<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Compares two data frames with detailed reporting. The report can be 
    analyzed natively in R or in MS Excel. The comparison analysis shows changes 
    and errors by row and column and provides summary statistics. compareDFx can 
    also compare data frames with different columns and column classes. The MS 
    Excel report is a multi-tab workbook that color codes additions, deletions, 
    and changes which can easily be used by a non-R users.">
<title>Compare Data Frame Versions in R and MS Excel • compareDFx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Compare Data Frame Versions in R and MS Excel">
<meta property="og:description" content="Compares two data frames with detailed reporting. The report can be 
    analyzed natively in R or in MS Excel. The comparison analysis shows changes 
    and errors by row and column and provides summary statistics. compareDFx can 
    also compare data frames with different columns and column classes. The MS 
    Excel report is a multi-tab workbook that color codes additions, deletions, 
    and changes which can easily be used by a non-R users.">
<meta property="og:image" content="https://skgithub14.github.io/compareDFx/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">compareDFx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9006</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/skgithub14/compareDFx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="comparedfx-">compareDFx 
<a class="anchor" aria-label="anchor" href="#comparedfx-"></a>
</h1>
</div>
<!-- badges: start -->

<p>{compareDFx} compares two data frames with detailed reporting natively in R or in MS Excel. The MS Excel report is a multi-tab workbook that color codes additions, deletions, and changes which is ideal for R users and non-R users alike and makes identifying data issues and version differences quick and easy.</p>
<div class="float">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/report_top_bottom.png" alt="Screen shot from ‘data top-bottom’ tab of comparison_report.xlsx"><div class="figcaption">Screen shot from ‘data top-bottom’ tab of comparison_report.xlsx</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of {compareDFx} like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.package("devtools")</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"skgithub14/compareDFx"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<hr>
</div>
<div class="section level2">
<h2 id="comparing-two-data-frames-using-comparedfx">Comparing two data frames using {compareDFx}<a class="anchor" aria-label="anchor" href="#comparing-two-data-frames-using-comparedfx"></a>
</h2>
<p>Let’s assume that <code>df1</code> and <code>df2</code> are two versions of the same data set, where <code>df1</code> is the newer version. We want to know exactly which values changed. Using the two example data frames included with {compareDFx}, <code>df1</code> and <code>df2</code>, we will walk through the {compareDFx} workflow.</p>
<div class="section level3">
<h3 id="creating-the-report">Creating the report<a class="anchor" aria-label="anchor" href="#creating-the-report"></a>
</h3>
<p>We will start by loading the {compareDFx} package and defining our data frames:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/skgithub14/compareDFx" class="external-link">compareDFx</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code></pre></div>
<details><summary>
View the example data
</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example data, df1 </span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">df1</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="11%">
<col width="14%">
<col width="13%">
<col width="12%">
<col width="9%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="right">id1</th>
<th align="left">id2</th>
<th align="right">num</th>
<th align="left">char</th>
<th align="right">int</th>
<th align="left">log</th>
<th align="left">date</th>
<th align="right">class_num_char</th>
<th align="right">class_num_log</th>
<th align="right">dec_diff_ref</th>
<th align="right">dec_diff</th>
<th align="left">extra1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">B</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">D</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">E</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Z</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">Z</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">NA</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">M</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example data, df2</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="11%">
<col width="14%">
<col width="13%">
<col width="12%">
<col width="9%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="right">id1</th>
<th align="left">id2</th>
<th align="right">num</th>
<th align="left">char</th>
<th align="right">int</th>
<th align="left">log</th>
<th align="left">date</th>
<th align="left">class_num_char</th>
<th align="left">class_num_log</th>
<th align="right">dec_diff_ref</th>
<th align="right">dec_diff</th>
<th align="left">extra2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">B</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-04</td>
<td align="right">1.000100</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-05</td>
<td align="right">1.000010</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">D</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-06</td>
<td align="right">1.000001</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">F</td>
<td align="right">6</td>
<td align="left">f</td>
<td align="right">6</td>
<td align="left">TRUE</td>
<td align="left">2023-01-06</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">M</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
</tbody>
</table></details><p>{compareDFx} uses a row’s unique ID to evaluate what changed between two data frames. Unique IDs can consist of one or multiple columns. For <code>df1</code> and <code>df2</code>, the columns the collectively make a unique row ID are <code>id1</code> and <code>id2</code>. This means that in <code>df1</code> there are two columns named <code>id1</code> and <code>id2</code> and in <code>df2</code> there are also two columns named <code>id1</code> and <code>id2</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">id_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id1"</span>, <span class="st">"id2"</span><span class="op">)</span></span></code></pre></div>
<p>Now we can run the comparison and generate the report in Excel:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run the comparison</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_comparison.html">get_comparison</a></span><span class="op">(</span><span class="va">df1</span>, <span class="va">df2</span>, <span class="va">id_cols</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create the excel report</span></span>
<span><span class="fu"><a href="reference/create_comparison_excel.html">create_comparison_excel</a></span><span class="op">(</span><span class="va">comparison</span>, path <span class="op">=</span> <span class="st">"comparison_report.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>Now we have a multi-tab, color-coded MS Excel report with summary statistics. On the data tabs of the report, all cells from <code>df1</code> will have a white background and all cells from <code>df2</code> will have a grey background. The text is colored accordingly:</p>
<ul>
<li><p>Green text: cell values in <code>df1</code> that are different from <code>df2</code></p></li>
<li><p>Red text: cell values in <code>df2</code> that are different from <code>df1</code></p></li>
<li><p>Black text: cell values that are the unchanged between <code>df1</code> and <code>df2</code></p></li>
</ul>
<p>You can explore the file yourself here:</p>
<p><a href="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/comparison_report.xlsx" class="external-link">Download comparison_report.xlsx</a></p>
<p>As you can see, there are six tabs in the Excel workbook:</p>
<ol style="list-style-type: decimal">
<li>summary: summary statistics</li>
</ol>
<div class="float">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/summary_tab.png" alt="Screen shot from ‘summary’ tab of comparison_report.xlsx"><div class="figcaption">Screen shot from ‘summary’ tab of comparison_report.xlsx</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>summary by column: column summary statistics</li>
</ol>
<div class="float">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/summary_by_column_tab.png" alt="Screen shot from ‘summary by column’ tab of comparison_report.xlsx"><div class="figcaption">Screen shot from ‘summary by column’ tab of comparison_report.xlsx</div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>data top-bottom: the combined data displayed so that each row of <code>df1</code> is directly above its <code>df2</code> counterpart.</li>
</ol>
<div class="float">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/report_top_bottom.png" alt="Screen shot from ‘data top-bottom’ tab of comparison_report.xlsx"><div class="figcaption">Screen shot from ‘data top-bottom’ tab of comparison_report.xlsx</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>data left-right: the same data as shown in data top-bottom, but where the <code>df1</code> columns are immediately to the left of their <code>df2</code> counterpart.</li>
</ol>
<div class="float">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/report_left_right.png" alt="Screen shot from ‘data left-right’ tab of comparison_report.xlsx"><div class="figcaption">Screen shot from ‘data left-right’ tab of comparison_report.xlsx</div>
</div>
<ol start="5" style="list-style-type: decimal">
<li><p>df1: the raw data from <code>df1</code>, for reference</p></li>
<li><p>df2: the raw data from <code>df2</code>, for reference</p></li>
</ol>
<p>If you aren’t interested in the Excel report but want to work with the report in R instead, you can use the output from <code>comparison</code> object directly (see the documentation for <code><a href="reference/get_comparison.html">get_comparison()</a></code>).</p>
</div>
<div class="section level3">
<h3 id="understanding-the-report">Understanding the report<a class="anchor" aria-label="anchor" href="#understanding-the-report"></a>
</h3>
<p>If you look to the far left in the data tabs (data top-bottom and data left-right), you will see some extra columns that report useful comparison information:</p>
<ul>
<li>
<p><code>discrepancy</code>: the comparison status, which can take one or more of the following values:</p>
<ul>
<li><p><code>"matched"</code>: a row that exactly matched between <code>df1</code> and <code>df2</code></p></li>
<li><p><code>"addition"</code>: a row that only existed in <code>df1</code></p></li>
<li><p><code>"deletion"</code>: a row that only existed in <code>df2</code></p></li>
<li><p><code>"changed"</code>: a row where the <code>id_cols</code> matched between between <code>df1</code> and <code>df2</code> but which had a least one other column with a change</p></li>
<li><p><code>"exact duplicate"</code>: a row with multiple occurrences in either <code>df1</code> or <code>df2</code>. “Exact” means that every value in the row matched perfectly to its duplicate copies. Exact duplicates can also be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code>.</p></li>
<li><p><code>"ID duplicate (not exact duplicate)"</code>: a row that had multiple occurrences of the same combination of <code>id_cols</code> in either <code>df1</code> or <code>df2</code> but for which there was not an exact duplicate (meaning at least one non-ID value in the row was different). An ID duplicate cannot be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code> because there will be multiple value matches when comparing <code>df1</code> and <code>df2</code>. The user should fix these errors and re-run the comparison.</p></li>
<li><p><code>"ID contains NA"</code>: a row in either <code>df1</code> or <code>df2</code> which had an <code>NA</code> value in one or more <code>id_cols</code>. The comparison procedure requires non-<code>NA</code> values for all <code>id_cols</code> therefore these rows will not be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code>. The user should fix these errors and re-run the comparison.</p></li>
</ul>
</li>
<li><p><code>source</code>: this column is only show in the data top-bottom sheet and tells you whether the data in the row came from <code>df1</code> or <code>df2</code></p></li>
</ul>
<p>The next set of columns are hidden by default, but can be shown by clicking the “+” in the top left corner of the worksheet:</p>
<ul>
<li><p><code>change group</code>: if <code>discrepancy</code> contains <code>"changed"</code> this column will be populated with an arbitrary number that links changed records between <code>df1</code> and <code>df2</code></p></li>
<li><p><code>exact dup cnt</code>: if <code>discrepancy</code> contains <code>"exact duplicate"</code> this column gives the number of exact duplicates in <code>df1</code> or <code>df2</code></p></li>
<li><p><code>ID dup cnt</code>: if <code>discrepancy</code> contains <code>"ID duplicate (not exact duplicate)"</code> this column gives the number of ID duplicates in <code>df1</code> or <code>df2</code></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="using-the-report">Using the report<a class="anchor" aria-label="anchor" href="#using-the-report"></a>
</h3>
<p>Here is one way you can use the report that I find effective:</p>
<ol style="list-style-type: decimal">
<li><p>If you have any <code>"ID contains NA"</code> values in the <code>discrepancy</code> column, start by fixing those in your raw data, then re-run the report. If these only exist in the older version of your data (<code>df2</code>), then maybe you don’t need to fix these because you are planning on replacing the old version with the new version (<code>df1</code>).</p></li>
<li><p>If you have any <code>"ID duplicate (not exact duplicate)"</code> values in the discrepancy column, investigate why you have rows in <code>df1</code> and/or <code>df2</code> that have the same ID values but different entries in the other columns. Similar to the step above, if these problems are only in your older version (<code>df2</code>), maybe you don’t need to do anything.</p></li>
<li><p>Filter the <code>discrepancy</code> column to find any entries containing <code>"exact duplicate"</code>. Depending on your project, exact duplicates might be okay but, you might want to check there are the correct number of duplicates using the <code>exact dup cnt</code> column. If exact duplicates are not okay, remove those from your raw data then re-run the report.</p></li>
<li><p>Filter the <code>discrepancy</code> column to find any entries containing <code>"addition"</code> and <code>"deletion"</code>. Check that the ID values are correct. If the ID values are incorrect or misspelled, it is possible that these rows are not true additions and deletions because their ID’s are supposed to match but do not, in which case these rows should actually be categorized as <code>"matched"</code> or <code>"changed"</code>. If the ID values look good, confirm that the deleted rows are supposed to be deleted and the added rows are supposed to be added.</p></li>
<li><p>Filter the <code>discrepancy</code> column to find any entries containing <code>"changed"</code> and verify that all changes are expected. Fix any “bad” changes in the raw data and iteratively re-run the report. In some cases, filtering on the <code>change group</code> column can be helpful.</p></li>
<li><p>Filter the <code>discrepancy</code> column to find any entries containing <code>"matched"</code> and verify that these rows were not supposed to change between versions. Fix the issues and re-run the report iteratively.</p></li>
</ol>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/skgithub14/compareDFx/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/skgithub14/compareDFx/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing compareDFx</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Stephen Knapp <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5101-4555" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/skgithub14/compareDFx/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/skgithub14/compareDFx/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/skgithub14/compareDFx?branch=master" class="external-link"><img src="https://codecov.io/gh/skgithub14/compareDFx/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stephen Knapp.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
