<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Compares two data frames with detailed reporting. The report can be 
    analyzed natively in R or in MS Excel. The comparison analysis shows changes 
    and errors by row and column and provides summary statistics. compareDFx can 
    also compare data frames with different columns and column classes. The MS 
    Excel report is a multi-tab workbook that color codes additions, deletions, 
    and changes which can easily be used by a non-R users.">
<title>Compare Data Frame Versions in R and MS Excel • compareDFx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Compare Data Frame Versions in R and MS Excel">
<meta property="og:description" content="Compares two data frames with detailed reporting. The report can be 
    analyzed natively in R or in MS Excel. The comparison analysis shows changes 
    and errors by row and column and provides summary statistics. compareDFx can 
    also compare data frames with different columns and column classes. The MS 
    Excel report is a multi-tab workbook that color codes additions, deletions, 
    and changes which can easily be used by a non-R users.">
<meta property="og:image" content="https://skgithub14.github.io/compareDFx/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">compareDFx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/skgithub14/compareDFx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="comparedfx-">compareDFx 
<a class="anchor" aria-label="anchor" href="#comparedfx-"></a>
</h1>
</div>
<!-- badges: start -->

<p>{compareDFx} compares two data frames with detailed reporting natively in R or in MS Excel. The MS Excel report is a multi-tab workbook that color codes additions, deletions, and changes which is ideal for R users and non-R users alike and makes identifying data issues and version differences quick and easy.</p>
<div class="figure">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/summary_tab.png" alt=""><p class="caption">Screen shot from ‘summary’ tab of comparison_report.xlsx</p>
</div>
<div class="figure">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/summary_by_column_tab.png" alt=""><p class="caption">Screen shot from ‘summary by column’ tab of comparison_report.xlsx</p>
</div>
<div class="figure">
<img src="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/all_tab.png" alt=""><p class="caption">Screen shot from ‘all’ tab of comparison_report.xlsx</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of {compareDFx} like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.package("devtools")</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"skgithub14/compareDFx"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<hr>
</div>
<div class="section level2">
<h2 id="comparing-two-data-frames-using-comparedfx">Comparing two data frames using {compareDFx}<a class="anchor" aria-label="anchor" href="#comparing-two-data-frames-using-comparedfx"></a>
</h2>
<p>Using the two example data frames included with the package, <code>df1</code> and <code>df2</code>, we will walk through the {compareDFx} workflow.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/skgithub14/compareDFx" class="external-link">compareDFx</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># example data, df1 </span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">compareDFx</span><span class="fu">::</span><span class="va"><a href="reference/df1.html">df1</a></span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="11%">
<col width="14%">
<col width="13%">
<col width="12%">
<col width="9%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="right">id1</th>
<th align="left">id2</th>
<th align="right">num</th>
<th align="left">char</th>
<th align="right">int</th>
<th align="left">log</th>
<th align="left">date</th>
<th align="right">class_num_char</th>
<th align="right">class_num_log</th>
<th align="right">dec_diff_ref</th>
<th align="right">dec_diff</th>
<th align="left">extra1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">B</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">D</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">E</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Z</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">Z</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">NA</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">M</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="right">100</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">extra1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example data, df2</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">compareDFx</span><span class="fu">::</span><span class="va"><a href="reference/df2.html">df2</a></span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="11%">
<col width="14%">
<col width="13%">
<col width="12%">
<col width="9%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="right">id1</th>
<th align="left">id2</th>
<th align="right">num</th>
<th align="left">char</th>
<th align="right">int</th>
<th align="left">log</th>
<th align="left">date</th>
<th align="left">class_num_char</th>
<th align="left">class_num_log</th>
<th align="right">dec_diff_ref</th>
<th align="right">dec_diff</th>
<th align="left">extra2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">B</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-04</td>
<td align="right">1.000100</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-05</td>
<td align="right">1.000010</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">D</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">-1e-06</td>
<td align="right">1.000001</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">F</td>
<td align="right">6</td>
<td align="left">f</td>
<td align="right">6</td>
<td align="left">TRUE</td>
<td align="left">2023-01-06</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">M</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="left">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra2</td>
</tr>
</tbody>
</table>
<p>Next, we need to identify the columns which collectively make a unique ID for each row, then we can run the comparison.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">id_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id1"</span>, <span class="st">"id2"</span><span class="op">)</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_comparison.html">get_comparison</a></span><span class="op">(</span><span class="va">df1</span>, <span class="va">df2</span>, <span class="va">id_cols</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in get_comparison(df1, df2, id_cols): ID duplicates detected, recommend</span></span>
<span><span class="co">#&gt; fixing these and re-running `get_comparison()`</span></span>
<span><span class="co">#&gt; Warning in get_comparison(df1, df2, id_cols): ID columns contain `NA`,</span></span>
<span><span class="co">#&gt; recommend fixing these and re-running `get_comparison()`</span></span>
<span><span class="co">#&gt; df1 and df2 have different columns therefore no records are recorded as 'matched'</span></span></code></pre></div>
<p>The output of <code><a href="reference/get_comparison.html">get_comparison()</a></code> is a list with elements:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "col_summary_simple"     "col_summary_by_col"     "row_summary"           </span></span>
<span><span class="co">#&gt;  [4] "all"                    "all_index_by_col"       "matched"               </span></span>
<span><span class="co">#&gt;  [7] "adds"                   "dels"                   "changed"               </span></span>
<span><span class="co">#&gt; [10] "change_index_by_col"    "changed_lr"             "change_index_by_col_lr"</span></span>
<span><span class="co">#&gt; [13] "exact_dups"             "id_dups"                "id_NA"                 </span></span>
<span><span class="co">#&gt; [16] "df1"                    "df2"                    "id_cols"               </span></span>
<span><span class="co">#&gt; [19] "cc_out"</span></span></code></pre></div>
<p>See the <code><a href="reference/get_comparison.html">get_comparison()</a></code> documentation for details on each list element. Below we will view the most important ones.</p>
<p>Summary statistics are provided by <code>$row_summary</code>, <code>$col_summary_simple</code>, and <code>$col_summary_by_col</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">$</span><span class="va">row_summary</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="3%">
<col width="3%">
<col width="31%">
<col width="45%">
</colgroup>
<thead><tr class="header">
<th align="left">Rows</th>
<th align="right">df1</th>
<th align="right">df2</th>
<th align="left">Issues</th>
<th align="left">See</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Total</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="left">NA</td>
<td align="left">all (for a comparison), or df1 and df2 (for the raw data)</td>
</tr>
<tr class="even">
<td align="left">Added</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">adds</td>
</tr>
<tr class="odd">
<td align="left">Deleted</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">dels</td>
</tr>
<tr class="even">
<td align="left">Changed</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">changed (top/bottom view) or changed_lr (left/right view)</td>
</tr>
<tr class="odd">
<td align="left">Matched</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">NA</td>
<td align="left">matched</td>
</tr>
<tr class="even">
<td align="left">Exact duplicates</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">exact_dups</td>
</tr>
<tr class="odd">
<td align="left">ID only duplicates</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="left">Fix these records and re-run comparison</td>
<td align="left">id_dups</td>
</tr>
<tr class="even">
<td align="left">
<code>NA</code> ID values</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">Fix these records and re-run comparison</td>
<td align="left">id_NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">$</span><span class="va">col_summary_simple</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="16%">
<col width="5%">
<col width="5%">
<col width="73%">
</colgroup>
<thead><tr class="header">
<th align="left">Columns</th>
<th align="right">df1</th>
<th align="right">df2</th>
<th align="left">Issues</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Total</td>
<td align="right">12</td>
<td align="right">12</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Added</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="left">df1 and df2 have different columns therefore no records are ‘matched’</td>
</tr>
<tr class="odd">
<td align="left">Deleted</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">df1 and df2 have different columns therefore no records are ‘matched’</td>
</tr>
<tr class="even">
<td align="left">Changed</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Mismatch class</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">$</span><span class="va">col_summary_by_col</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="20%">
<col width="10%">
<col width="10%">
<col width="11%">
<col width="19%">
<col width="14%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">Column</th>
<th align="left">In df1</th>
<th align="left">In df2</th>
<th align="right">Changes</th>
<th align="left">Classes match</th>
<th align="left">df1 class</th>
<th align="left">df2 class</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">id1</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">numeric</td>
<td align="left">numeric</td>
</tr>
<tr class="even">
<td align="left">id2</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">character</td>
<td align="left">character</td>
</tr>
<tr class="odd">
<td align="left">num</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">numeric</td>
<td align="left">numeric</td>
</tr>
<tr class="even">
<td align="left">char</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">character</td>
<td align="left">character</td>
</tr>
<tr class="odd">
<td align="left">int</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">integer</td>
<td align="left">integer</td>
</tr>
<tr class="even">
<td align="left">log</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">logical</td>
<td align="left">logical</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Date</td>
<td align="left">Date</td>
</tr>
<tr class="even">
<td align="left">class_num_char</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">numeric</td>
<td align="left">character</td>
</tr>
<tr class="odd">
<td align="left">class_num_log</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">numeric</td>
<td align="left">logical</td>
</tr>
<tr class="even">
<td align="left">dec_diff_ref</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">4</td>
<td align="left">TRUE</td>
<td align="left">numeric</td>
<td align="left">numeric</td>
</tr>
<tr class="odd">
<td align="left">dec_diff</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">2</td>
<td align="left">TRUE</td>
<td align="left">numeric</td>
<td align="left">numeric</td>
</tr>
<tr class="even">
<td align="left">extra1</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">character</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">extra2</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">character</td>
</tr>
</tbody>
</table>
<p><code>$all</code> shows all of the compared data from <code>df1</code> and <code>df2</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">$</span><span class="va">all</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="2%">
<col width="2%">
<col width="17%">
<col width="6%">
<col width="7%">
<col width="5%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="5%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="4%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">source</th>
<th align="right">id1</th>
<th align="left">id2</th>
<th align="left">discrepancy</th>
<th align="right">change group</th>
<th align="right">exact dup cnt</th>
<th align="right">ID dup cnt</th>
<th align="right">num</th>
<th align="left">char</th>
<th align="right">int</th>
<th align="left">log</th>
<th align="left">date</th>
<th align="left">class_num_char</th>
<th align="right">class_num_log</th>
<th align="right">dec_diff_ref</th>
<th align="right">dec_diff</th>
<th align="left">extra1</th>
<th align="left">extra2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">df1</td>
<td align="right">1</td>
<td align="left">A</td>
<td align="left">changed</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df2</td>
<td align="right">1</td>
<td align="left">A</td>
<td align="left">changed, exact duplicate</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">a</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">2023-01-01</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="left">df1</td>
<td align="right">2</td>
<td align="left">B</td>
<td align="left">changed</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df2</td>
<td align="right">2</td>
<td align="left">B</td>
<td align="left">changed</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">-1e-04</td>
<td align="right">1.000100</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="left">df1</td>
<td align="right">3</td>
<td align="left">C</td>
<td align="left">changed</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df2</td>
<td align="right">3</td>
<td align="left">C</td>
<td align="left">changed</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">c</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">2023-01-03</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">-1e-05</td>
<td align="right">1.000010</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="left">df1</td>
<td align="right">4</td>
<td align="left">D</td>
<td align="left">changed</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df2</td>
<td align="right">4</td>
<td align="left">D</td>
<td align="left">changed</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">4</td>
<td align="left">d</td>
<td align="right">3</td>
<td align="left">NA</td>
<td align="left">2023-01-04</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">-1e-06</td>
<td align="right">1.000001</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
<tr class="odd">
<td align="left">df1</td>
<td align="right">5</td>
<td align="left">E</td>
<td align="left">ID duplicate (not exact duplicate)</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df1</td>
<td align="right">5</td>
<td align="left">E</td>
<td align="left">ID duplicate (not exact duplicate)</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">df1</td>
<td align="right">5</td>
<td align="left">Z</td>
<td align="left">addition, exact duplicate</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">df1</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">ID contains <code>NA</code>
</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">5</td>
<td align="left">g</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">df2</td>
<td align="right">6</td>
<td align="left">F</td>
<td align="left">deletion</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">6</td>
<td align="left">f</td>
<td align="right">6</td>
<td align="left">TRUE</td>
<td align="left">2023-01-06</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">0e+00</td>
<td align="right">1.000000</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
<tr class="even">
<td align="left">df1</td>
<td align="right">6</td>
<td align="left">M</td>
<td align="left">changed</td>
<td align="right">7</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">extra1</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">df2</td>
<td align="right">6</td>
<td align="left">M</td>
<td align="left">changed</td>
<td align="right">7</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">5</td>
<td align="left">e</td>
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">2023-01-05</td>
<td align="left">100</td>
<td align="right">NA</td>
<td align="right">1e+00</td>
<td align="right">1.000000</td>
<td align="left">NA</td>
<td align="left">extra2</td>
</tr>
</tbody>
</table>
<p>The data frame shown above contains special columns that provide information on the comparison for each record:</p>
<ul>
<li><p><code>source</code>: whether the data in the row came from <code>df1</code> or <code>df2</code></p></li>
<li>
<p><code>discrepancy</code>: the comparison status, which can take one or more of the following values:</p>
<ul>
<li><p><code>"matched"</code>: a row that exactly matched between <code>df1</code> and <code>df2</code> (for <code>matched</code> rows, only the <code>df1</code> copy is shown)</p></li>
<li><p><code>"addition"</code>: a row that only existed in <code>df1</code></p></li>
<li><p><code>"deletion"</code>: a row that only existed in <code>df2</code></p></li>
<li><p><code>"changed"</code>: a row where the <code>id_cols</code> matched between between <code>df1</code> and <code>df2</code> but which had a least one other column with a change</p></li>
<li><p><code>"exact duplicate"</code>: a row with multiple occurrences in either <code>df1</code> or <code>df2</code>. “Exact” means that every value in the row matched perfectly to its duplicate copies. Exact duplicates can also be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code>.</p></li>
<li><p><code>"ID duplicate (not exact duplicate)"</code>: a row that had multiple occurrences of the same combination of <code>id_cols</code> in either <code>df1</code> or <code>df2</code> but for which there was not an exact duplicate (meaning at least one non-ID value in the row was different). An ID duplicate cannot be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code> because there will be multiple value matches when comparing <code>df1</code> and <code>df2</code>. The user should fix these errors and re-run the comparison.</p></li>
<li><p><code>"ID contains NA"</code>: a row in either <code>df1</code> or <code>df2</code> which had an <code>NA</code> value in one or more <code>id_cols</code>. The comparison procedure requires non-<code>NA</code> values for all <code>id_cols</code> therefore these rows will not be marked as <code>"matched"</code>, <code>"addition"</code>, <code>"deletion"</code>, or <code>"changed"</code>. The user should fix these errors and re-run the comparison.</p></li>
</ul>
</li>
<li><p><code>change group</code>: if <code>discrepancy</code> contains <code>"changed"</code> this column will be populated with an arbitrary number that links changed records between <code>df1</code> and <code>df2</code></p></li>
<li><p><code>exact dup cnt</code>: if <code>discrepancy</code> contains <code>"exact duplicate"</code> this column gives the number of exact duplicates in <code>df1</code> or <code>df2</code></p></li>
<li><p><code>ID dup cnt</code>: if <code>discrepancy</code> contains <code>"ID duplicate (not exact duplicate)"</code> this column gives the number of ID duplicates in <code>df1</code> or <code>df2</code></p></li>
</ul>
<p>Finally, we can produce a multi-tab, color-coded MS Excel report of our comparison using <code><a href="reference/create_comparison_excel.html">create_comparison_excel()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"compareDFx"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_comparison_excel.html">create_comparison_excel</a></span><span class="op">(</span><span class="va">comparison</span>, </span>
<span>                        path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dir</span>, <span class="st">"comparison_report.xlsx"</span><span class="op">)</span>,</span>
<span>                        autoOpen <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>See the screenshots at the top of this page for an idea of what the Excel report looks like, or you can download the file:</p>
<p><a href="https://github.com/skgithub14/compareDFx/raw/master/inst/extdata/comparison_report.xlsx" class="external-link">Download comparison_report.xlsx</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/skgithub14/compareDFx/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/skgithub14/compareDFx/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing compareDFx</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Stephen Knapp <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5101-4555" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/skgithub14/compareDFx/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/skgithub14/compareDFx/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/skgithub14/compareDFx?branch=master" class="external-link"><img src="https://codecov.io/gh/skgithub14/compareDFx/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stephen Knapp.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
